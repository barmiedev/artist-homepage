---
import { cn } from '@/lib/utils';
import { urlForImage } from '@/sanity/lib/url-for-image';

const { asset, alt } = Astro.props.node;
const { imgClass } = Astro.props;

const url = urlForImage(asset).url();
const webpUrl = urlForImage(asset).format('webp').url();
---

<picture>
  <source srcset={webpUrl} type="image/webp" />
  <img class={cn("responsive__img", imgClass)} src={url} alt={alt} />
</picture>